<!DOCTYPE html>
<html>
<head>
	<title>Awesome Selfhosted Form</title>
 	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-MfvZlkHCEqatNoGiOXveE8FIwMzZg4W85qfrfIFBfYc= sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">
 	<style type="text/css">
 		textarea{
 			resize: none;
 		}
		#text_preview {
		    color: #444;
		    font-size: 13px;
		    line-height: 1.4;
		    padding: 0 1em 4px;
		}
		#text_preview {
		    overflow: auto;
		} 		
 	</style>
	<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
	<script src="js-markdown-extra.js"></script>
	<script src="https://raw.githubusercontent.com/joubertredrat/bootstrap-maxlength/master/src/bootstrap-maxlength.js"></script>
	<script type="text/javascript">
		$(document).ready(function(){
			$('#project-description').maxlength({
			    alwaysShow: true,
			    validate: false,
			    allowOverMax: true
			});

			$('.syntax-builder').bind('keyup', MarkdownBuild);

			MarkdownBuild();
		});

		function MarkdownBuild() {
			var pname = '['+($('#project-name').val() || 'My awesome selfhosted project')+']';
			var purl = '('+($('#project-url').val() || 'https://myproject.is.awesome')+')';
			var pdesc = ' - '+($('#project-description').val() || 'Short description');
			var pdemo = $('#project-demo').val() ? '[Demo]('+($('#project-demo').val())+')' : '';
			var psrc = '[Source code]('+($('#project-source').val() || 'https://github.com/myproject/is-awesome')+')';
			var lic = '`'+($('#project-license').val() || 'License')+'`';
			var lang = '`'+($('#project-language').val() || 'Language')+'`';

			var markdown = pname+purl+pdesc+' ('+(pdemo ? pdemo+', '+psrc : psrc)+') '+lic+' '+lang;
			$('#result').val(markdown);
			$('#text_preview').html(Markdown(markdown));
		}
	</script>
</head>
<body>
<div class="container">
    <div class="row">
        <div class="col-xs-6">
		    <div class="form-group">
				<label for="project-name">Project name</label>
				<input type="text" name="project-name" class="form-control syntax-builder" id="project-name" placeholder="My awesome selfhosted project">
		    </div>
		    <div class="form-group">
				<label for="project-url">Project url</label>
				<input type="url" name="project-url" class="form-control syntax-builder" id="project-url" placeholder="https://myproject.is.awesome">
		    </div>
		    <div class="form-group">
				<label for="project-description">Project description</label>
				<textarea rows="4" name="project-description" class="form-control syntax-builder" id="project-description" placeholder="Project name" maxlength="250"></textarea>
		    </div>
		    <div class="form-group">
				<label for="project-demo">Project demo</label>
				<input type="text" name="project-demo" class="form-control syntax-builder" id="project-demo" placeholder="https://demo.myproject.is.awesome">
		    </div>
		    <div class="form-group">
				<label for="project-source">Project source</label>
				<input type="url" name="project-source" class="form-control syntax-builder" id="project-source" placeholder="https://github.com/myproject/is-awesome">
		    </div>
		    <div class="form-group">
				<label for="project-license">License</label>
				<input type="text" name="project-license" class="form-control syntax-builder" id="project-license" placeholder="GPLv2">
		    </div>
			<div class="form-group">
				<label for="project-language">Language</label>
				<input type="text" name="project-language" class="form-control syntax-builder" id="project-language" placeholder="PHP">
		    </div>
        </div>
        <div class="col-xs-6">
		    <div class="form-group">
				<label for="result">Result</label>
				<textarea rows="6" name="result" class="form-control" id="result" readonly="readonly"></textarea>
		    </div>
		    <p><strong>Preview</strong></p>
		    <div id="text_preview" class="panel"></div>
        </div>
    </div>
</div>
</body>
</html>